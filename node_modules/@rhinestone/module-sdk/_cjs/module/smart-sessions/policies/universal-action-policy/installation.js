"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUniversalActionPolicy = void 0;
const constants_1 = require("./constants");
const viem_1 = require("viem");
const abi_1 = require("./abi");
const getUniversalActionPolicy = (actionConfig) => {
    if (actionConfig.paramRules.rules.length > constants_1.MAX_RULES) {
        throw new Error(`Max number of rules is ${constants_1.MAX_RULES}`);
    }
    return {
        policy: constants_1.UNIVERSAL_ACTION_POLICY_ADDRESS,
        address: constants_1.UNIVERSAL_ACTION_POLICY_ADDRESS,
        initData: (0, viem_1.encodeAbiParameters)(abi_1.abi, [
            {
                valueLimitPerUse: actionConfig.valueLimitPerUse,
                paramRules: {
                    length: actionConfig.paramRules.length,
                    rules: actionConfig.paramRules.rules,
                },
            },
        ]),
    };
};
exports.getUniversalActionPolicy = getUniversalActionPolicy;
//# sourceMappingURL=installation.js.map