import { encodePacked } from 'viem';
import { DEADMAN_SWITCH_ADDRESS } from './constants.js';
import { abi } from './abi.js';
export const getDeadmanSwitch = async ({ moduleType, nominee, timeout, hook, account, client, }) => {
    const isInitialized = (await client.readContract({
        address: DEADMAN_SWITCH_ADDRESS,
        abi,
        functionName: 'isInitialized',
        args: [account.address],
    }));
    return {
        address: DEADMAN_SWITCH_ADDRESS,
        module: DEADMAN_SWITCH_ADDRESS,
        initData: isInitialized
            ? '0x'
            : encodePacked(['address', 'uint48'], [nominee, timeout]),
        deInitData: '0x',
        additionalContext: '0x',
        type: moduleType,
        hook,
    };
};
//# sourceMappingURL=installation.js.map